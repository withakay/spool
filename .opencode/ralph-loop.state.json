{
  "active": true,
  "iteration": 1,
  "minIterations": 1,
  "maxIterations": 50,
  "completionPromise": "COMPLETE",
  "prompt": "# Spool Skills Adoption Orchestrator\n\nYou are an orchestrator agent responsible for implementing module 013 (spool-skills-adoption). This module has 5 change proposals that can be partially parallelized.\n\n## State Tracking\n\n**CRITICAL**: Before starting any work, always check the current state by running:\n\n```bash\nspool tasks status 013-01_opencode-adapter\nspool tasks status 013-02_claude-code-integration\nspool tasks status 013-03_codex-bootstrap\nspool tasks status 013-04_bootstrap-artifact-cli\nspool tasks status 013-05_distribution-fetch-mechanics\n```\n\nIf `tasks.md` files don't have enhanced task format, check completion status manually:\n\n```bash\ncat .spool/changes/013-01_opencode-adapter/tasks.md\ncat .spool/changes/013-02_claude-code-integration/tasks.md\ncat .spool/changes/013-03_codex-bootstrap/tasks.md\ncat .spool/changes/013-04_bootstrap-artifact-cli/tasks.md\ncat .spool/changes/013-05_distribution-fetch-mechanics/tasks.md\n```\n\nResume from wherever the previous run left off. Do not restart completed work.\n\n## Change Dependency Graph\n\n```\n                    ┌─────────────────────┐\n                    │ 013-04 bootstrap    │\n                    │ artifact CLI        │\n                    └─────────┬───────────┘\n                              │ soft dep (content)\n          ┌───────────────────┼───────────────────┐\n          │                   │                   │\n          ▼                   ▼                   ▼\n┌─────────────────┐ ┌─────────────────┐ ┌─────────────────┐\n│ 013-01 opencode │ │ 013-02 claude   │ │ 013-03 codex    │\n│ adapter         │ │ code integration│ │ bootstrap       │\n└─────────────────┘ └─────────────────┘ └─────────────────┘\n          │                   │                   │\n          └───────────────────┼───────────────────┘\n                              │ soft dep (install mechanics)\n                    ┌─────────▼───────────┐\n                    │ 013-05 distribution │\n                    │ fetch mechanics     │\n                    └─────────────────────┘\n```\n\n## Parallelization Rules\n\n### Wave 1 (Can Run Fully in Parallel)\nThese have no dependencies on each other:\n- **013-01_opencode-adapter**\n- **013-02_claude-code-integration**\n- **013-03_codex-bootstrap**\n\n### Wave 2 (After Wave 1 Content is Defined)\nSoft dependency - can start once adapters define expected interface:\n- **013-04_bootstrap-artifact-cli** - Provides `spool agent instruction bootstrap --tool <tool>`\n\n### Wave 3 (After Adapters Define File Manifests)\nSoft dependency - can start once adapters specify their file requirements:\n- **013-05_distribution-fetch-mechanics** - Provides fetch/cache/install mechanics\n\n### Practical Parallelization Strategy\n\nSince dependencies are \"soft\" (interface contracts, not code), you can:\n\n1. **Start all 5 in parallel** with subagents, provided each subagent:\n   - Defines its expected interfaces/contracts first\n   - Documents what it expects from dependencies\n   - Stubs any dependency calls during development\n\n2. **Integration phase** after initial implementation:\n   - Wire up 013-04 to provide actual bootstrap content\n   - Wire up 013-05 to install files from all adapters\n\n## Dispatching Subagents\n\nFor each change, dispatch a subagent with this prompt template:\n\n```\nImplement Spool change {CHANGE_ID}.\n\n## Instructions\n\n1. Read the proposal: `.spool/changes/{CHANGE_ID}/proposal.md`\n2. Read the spec deltas: `.spool/changes/{CHANGE_ID}/specs/`\n3. Read the tasks: `.spool/changes/{CHANGE_ID}/tasks.md`\n4. Implement each task in order, marking complete as you go\n5. Run `spool validate {CHANGE_ID} --strict` after implementation\n6. Update task status: `spool tasks complete {CHANGE_ID} <task-id>` or mark `[x]` manually\n\n## Context\n\nThis is part of module 013 (spool-skills-adoption). \n\nDependencies:\n- {LIST_DEPENDENCIES}\n\nOther changes being implemented in parallel:\n- {LIST_PARALLEL_CHANGES}\n\nIf you need to define an interface contract with a dependency, document it in design.md.\n\n## Completion Criteria\n\n- All tasks in tasks.md marked complete\n- `spool validate {CHANGE_ID} --strict` passes\n- Any new files are committed\n```\n\n## Orchestrator Loop\n\n```\nWHILE not all changes complete:\n    1. Check status of all 5 changes\n    2. Identify changes that are:\n       - Not started (pending)\n       - In progress (may have failed mid-run)\n       - Complete\n    3. For changes that can proceed (dependencies satisfied or soft):\n       - Dispatch subagent if not already running\n       - Up to 3 subagents in parallel for Wave 1\n    4. Wait for subagent completion\n    5. On subagent failure:\n       - Log the failure\n       - Check if it's a blocking issue or can retry\n       - Update state\n    6. On subagent success:\n       - Mark change complete\n       - Check if this unblocks other changes\n    7. REPEAT\n```\n\n## Recovery from Failure\n\nIf this orchestrator session fails and restarts:\n\n1. **Check git status** for uncommitted work:\n   ```bash\n   git status\n   git diff\n   ```\n\n2. **Check task status** for all changes (commands above)\n\n3. **Check for partial implementations**:\n   ```bash\n   ls -la spool-skills/adapters/\n   ls -la spool-rs/crates/spool-core/src/\n   ```\n\n4. **Resume** by dispatching subagents for incomplete changes only\n\n## File Locations\n\n| Change | Primary Implementation Location |\n|--------|--------------------------------|\n| 013-01 | `spool-skills/adapters/opencode/spool-skills.js` |\n| 013-02 | `.claude/skills/spool-workflow.md`, `spool-skills/adapters/claude/` |\n| 013-03 | `spool-skills/.codex/spool-skills-bootstrap.md` |\n| 013-04 | `spool-rs/crates/spool-core/src/ralph/` (instruction generator) |\n| 013-05 | `spool-rs/crates/spool-core/src/installers/` |\n\n## Validation Checklist\n\nBefore marking module complete:\n\n- [ ] All 5 changes pass `spool validate <id> --strict`\n- [ ] `spool validate module 013 --with-changes` passes\n- [ ] Integration tested: adapters can call `spool agent instruction bootstrap --tool <tool>`\n- [ ] Integration tested: `spool init --tools opencode,claude,codex` installs all adapters\n- [ ] All changes committed with conventional commit format\n\n## Notes\n\n- The original research doc is at `.local/docs/agents/spool-skills-adoption.md`\n- Existing vendored skills are at `spool-skills/`\n- Spool Rust crates are at `spool-rs/crates/`\n- Follow the rust-style skill when writing Rust code\n- Read `.spool/AGENTS.md` for Spool workflow conventions\n",
  "startedAt": "2026-01-31T19:14:04.920Z",
  "model": "github-copilot/gpt-5.2"
}